Как конвертировать ошибки в исключения
======================================

Silex отлавливает исключения, которые выбрасываются из циклов запроса/ответа. Однако он *не ловит* ошибки и предупреждения PHP. Однако вы сможете следить за ними, если конвертируете их в исключения. Этот рецепт расскажет как это сделать.

Почему Silex не делает этого?
-----------------------------

Silex может это делать в теории, но есть причина по которой не делает. Silex выступает в качестве библиотеки, это означает что он не связывается ни с каким глобальным состоянием. Так как обработчики ошибок являются глобальными в PHP, то вашей обязанностью как пользователя является их регистрация.

Регистрация обработчика ошибок
------------------------------

К счастью, вместе с Silex поставляется класс ``ErrorHandler`` (он является частью пакета ``HttpKernel``), который решает эту проблему. Он конвертирует ошибки в исключения, а исключения отслеживаются Silex.

Вы можете зарегистрировать этот класс, вызвав статический метод ``register``::

    use Symfony\Component\HttpKernel\Debug\ErrorHandler;

    ErrorHandler::register();

Рекомендуется выполнять это действие в вашем фронт-контроллере, например в ``web/index.php``.

.. note::

    ``ErrorHandler`` не имеет ничего общего с ``ExceptionHandler``. ``ExceptionHandler`` отвечает за красивый вывод пойманного исключения.
